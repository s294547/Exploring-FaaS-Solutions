Name:             openwhisk-kafkaprovider-6685949cc9-qw5xm
Namespace:        openwhisk
Priority:         0
Service Account:  default
Node:             liquidfaas.cloud/38.242.158.232
Start Time:       Mon, 13 Mar 2023 14:22:47 +0100
Labels:           app=openwhisk-openwhisk
                  chart=openwhisk-1.0.0
                  heritage=Helm
                  name=openwhisk-kafkaprovider
                  pod-template-hash=6685949cc9
                  release=openwhisk
Annotations:      <none>
Status:           Running
IP:               10.42.0.167
IPs:
  IP:           10.42.0.167
Controlled By:  ReplicaSet/openwhisk-kafkaprovider-6685949cc9
Init Containers:
  wait-for-controller:
    Container ID:  docker://fe4f96140ee77df27f21a9c23e351b9ebf504499253b888ecae0d14791c22e8c
    Image:         busybox:latest
    Image ID:      docker-pullable://busybox@sha256:c118f538365369207c12e5794c3cbfb7b042d950af590ae6c287ede74f29b7d4
    Port:          <none>
    Host Port:     <none>
    Command:
      sh
      -c
      result=1; until [ $result -eq 0 ]; do echo 'Checking controller readiness'; wget -T 5 --spider $READINESS_URL; result=$?; sleep 1; done; echo 'Success: controller is ready'
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Mon, 13 Mar 2023 14:22:49 +0100
      Finished:     Mon, 13 Mar 2023 14:24:23 +0100
    Ready:          True
    Restart Count:  0
    Environment:
      READINESS_URL:  http://openwhisk-controller.openwhisk.svc.cluster.local:8080/ping
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-xqz9w (ro)
Containers:
  kafkaprovider:
    Container ID:   docker://8ae887d43dd8ea367c2706bf022e6f55a65c550f16aec527fa8cf112c74cd615
    Image:          openwhisk/kafkaprovider:2.1.0
    Image ID:       docker-pullable://openwhisk/kafkaprovider@sha256:63dc3d2a090493f8100cd32ee2dee883298c53cab319befd61eb1fb47534ddc6
    Port:           8080/TCP
    Host Port:      0/TCP
    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       Error
      Exit Code:    1
      Started:      Mon, 13 Mar 2023 15:06:02 +0100
      Finished:     Mon, 13 Mar 2023 15:06:02 +0100
    Ready:          False
    Restart Count:  13
    Environment:
      DB_URL:         https://couchdb-gateway.liquidfaas.cloud:443
      DB_USER:        admin
      DB_PASS:        password
      DB_PREFIX:      kp
      LOCAL_DEV:      true
      ROUTER_HOST:    <set to the key 'whisk_api_host_nameAndPort' of config map 'openwhisk-whisk.config'>  Optional: false
      ENDPOINT_AUTH:  <set to the key 'whisk_api_host_nameAndPort' of config map 'openwhisk-whisk.config'>  Optional: false
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-xqz9w (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             False
  ContainersReady   False
  PodScheduled      True
Volumes:
  kube-api-access-xqz9w:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
QoS Class:                   BestEffort
Node-Selectors:              <none>
Tolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason     Age                    From               Message
  ----     ------     ----                   ----               -------
  Normal   Scheduled  44m                    default-scheduler  Successfully assigned openwhisk/openwhisk-kafkaprovider-6685949cc9-qw5xm to liquidfaas.cloud
  Normal   Pulled     44m                    kubelet            Container image "busybox:latest" already present on machine
  Normal   Created    44m                    kubelet            Created container wait-for-controller        
  Normal   Started    44m                    kubelet            Started container wait-for-controller        
  Normal   Started    41m (x4 over 42m)      kubelet            Started container kafkaprovider
  Normal   Pulled     40m (x5 over 42m)      kubelet            Container image "openwhisk/kafkaprovider:2.1.0" already present on machine
  Normal   Created    40m (x5 over 42m)      kubelet            Created container kafkaprovider
  Warning  BackOff    3m56s (x177 over 42m)  kubelet            Back-off restarting failed container
PS C:\Users\yukik\exploring-faas\openwhisk\couchdb-external> kubectl descrobe pod  openwhisk-kafkaprovider-6685949cc9-qw5xm  -n openwhisk --v=9
error: unknown command "descrobe" for "kubectl"

Did you mean this?
        describe
PS C:\Users\yukik\exploring-faas\openwhisk\couchdb-external> kubectl logs openwhisk-kafkaprovider-6685949cc9-qw5xm  -n openwhisk --v=9            
I0313 15:08:21.328567   32408 loader.go:373] Config loaded from file:  c:\Users\yukik\exploring-faas\KubeConfig.yml
I0313 15:08:21.354932   32408 round_trippers.go:466] curl -v -XGET  -H "Accept: application/json, */*" -H "User-Agent: kubectl.exe/v1.26.1 (windows/amd64) kubernetes/8f94681" 'https://k3s.liquidfaas.cloud:6443/api/v1/namespaces/openwhisk/pods/openwhisk-kafkaprovider-6685949cc9-qw5xm'
I0313 15:08:21.362707   32408 round_trippers.go:495] HTTP Trace: DNS Lookup for k3s.liquidfaas.cloud resolved to [{38.242.158.232 }]
I0313 15:08:21.416953   32408 round_trippers.go:510] HTTP Trace: Dial to tcp:38.242.158.232:6443 succeed
I0313 15:08:21.548823   32408 round_trippers.go:553] GET https://k3s.liquidfaas.cloud:6443/api/v1/namespaces/openwhisk/pods/openwhisk-kafkaprovider-6685949cc9-qw5xm 200 OK in 192 milliseconds
I0313 15:08:21.550236   32408 round_trippers.go:570] HTTP Statistics: DNSLookup 6 ms Dial 54 ms TLSHandshake 69 ms ServerProcessing 60 ms Duration 192 ms
I0313 15:08:21.550955   32408 round_trippers.go:577] Response Headers:
I0313 15:08:21.551466   32408 round_trippers.go:580]     Content-Type: application/json
I0313 15:08:21.551916   32408 round_trippers.go:580]     X-Kubernetes-Pf-Flowschema-Uid: 3ff0f74c-37d4-4f9b-9525-339b54d62d4a
I0313 15:08:21.552551   32408 round_trippers.go:580]     X-Kubernetes-Pf-Prioritylevel-Uid: 8feeb57c-2b63-4855-a77d-c514bb2b9a4c
I0313 15:08:21.553060   32408 round_trippers.go:580]     Date: Mon, 13 Mar 2023 14:08:21 GMT
I0313 15:08:21.553060   32408 round_trippers.go:580]     Audit-Id: 47c5bbb3-79de-4b2b-80ba-5fa5b0e2946d      
I0313 15:08:21.553717   32408 round_trippers.go:580]     Cache-Control: no-cache, private
I0313 15:08:21.594569   32408 request.go:1171] Response Body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"openwhisk-kafkaprovider-6685949cc9-qw5xm","generateName":"openwhisk-kafkaprovider-6685949cc9-","namespace":"openwhisk","uid":"5ce2d901-a19e-476d-b13a-8c4684650cd3","resourceVersion":"442219","creationTimestamp":"2023-03-13T13:22:47Z","labels":{"app":"openwhisk-openwhisk","chart":"openwhisk-1.0.0","heritage":"Helm","name":"openwhisk-kafkaprovider","pod-template-hash":"6685949cc9","release":"openwhisk"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"openwhisk-kafkaprovider-6685949cc9","uid":"98b03cc2-200c-4242-8ad5-f5d209aa0902","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"k3s","operation":"Update","apiVersion":"v1","time":"2023-03-13T13:22:47Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:chart":{},"f:heritage":{},"f:name":{},"f:pod-template-hash":{},"f:release":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"98b03cc2-200c-4242-8ad5-f5d209aa0902\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"kafkaprovider\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"DB_PASS\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"DB_PREFIX\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"DB_URL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"DB_USER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"ENDPOINT_AUTH\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:configMapKeyRef":{}}},"k:{\"name\":\"LOCAL_DEV\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"ROUTER_HOST\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:configMapKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:initContainers":{".":{},"k:{\"name\":\"wait-for-controller\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"READINESS_URL\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"k3s","operation":"Update","apiVersion":"v1","time":"2023-03-13T14:06:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.42.0.167\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-xqz9w","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"wait-for-controller","image":"busybox:latest","command":["sh","-c","result=1; until [ $result -eq 0 ]; do echo 'Checking controller readiness'; wget -T 5 --spider $READINESS_URL; result=$?; sleep 1; done; echo 'Success: controller is ready'"],"env":[{"name":"READINESS_URL","value":"http://openwhisk-controller.openwhisk.svc.cluster.local:8080/ping"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-xqz9w","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"kafkaprovider","image":"openwhisk/kafkaprovider:2.1.0","ports":[{"name":"kafkaprovider","containerPort":8080,"protocol":"TCP"}],"env":[{"name":"DB_URL","value":"https://couchdb-gateway.liquidfaas.cloud:443"},{"name":"DB_USER","value":"admin"},{"name":"DB_PASS","value":"password"},{"name":"DB_PREFIX","value":"kp"},{"name":"LOCAL_DEV","value":"true"},{"name":"ROUTER_HOST","valueFrom":{"configMapKeyRef":{"name":"openwhisk-whisk.config","key":"whisk_api_host_nameAndPort"}}},{"name":"ENDPOINT_AUTH","valueFrom":{"configMapKeyRef":{"name":"openwhisk-whisk.config","key":"whisk_api_host_nameAndPort"}}}],"resources":{},"volumeMounts":[{"name":"kube-api-access-xqz9w","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"liquidfaas.cloud","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-03-13T13:24:24Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2023-03-13T13:55:42Z","reason":"ContainersNotReady","message":"containers with unready status: [kafkaprovider]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2023-03-13T13:55:42Z","reason":"ContainersNotReady","message":"containers with unready status: [kafkaprovider]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-03-13T13:22:47Z"}],"hostIP":"38.242.158.232","podIP":"10.42.0.167","podIPs":[{"ip":"10.42.0.167"}],"startTime":"2023-03-13T13:22:47Z","initContainerStatuses":[{"name":"wait-for-controller","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-03-13T13:22:49Z","finishedAt":"2023-03-13T13:24:23Z","containerID":"docker://fe4f96140ee77df27f21a9c23e351b9ebf504499253b888ecae0d14791c22e8c"}},"lastState":{},"ready":true,"restartCount":0,"image":"busybox:latest","imageID":"docker-pullable://busybox@sha256:c118f538365369207c12e5794c3cbfb7b042d950af590ae6c287ede74f29b7d4","containerID":"docker://fe4f96140ee77df27f21a9c23e351b9ebf504499253b888ecae0d14791c22e8c"}],"containerStatuses":[{"name":"kafkaprovider","state":{"waiting":{"reason":"CrashLoopBackOff","message":"back-off 5m0s restarting failed container=kafkaprovider pod=openwhisk-kafkaprovider-6685949cc9-qw5xm_openwhisk(5ce2d901-a19e-476d-b13a-8c4684650cd3)"}},"lastState":{"terminated":{"exitCode":1,"reason":"Error","startedAt":"2023-03-13T14:06:02Z","finishedAt":"2023-03-13T14:06:02Z","containerID":"docker://8ae887d43dd8ea367c2706bf022e6f55a65c550f16aec527fa8cf112c74cd615"}},"ready":false,"restartCount":13,"image":"openwhisk/kafkaprovider:2.1.0","imageID":"docker-pullable://openwhisk/kafkaprovider@sha256:63dc3d2a090493f8100cd32ee2dee883298c53cab319befd61eb1fb47534ddc6","containerID":"docker://8ae887d43dd8ea367c2706bf022e6f55a65c550f16aec527fa8cf112c74cd615","started":false}],"qosClass":"BestEffort"}}
Defaulted container "kafkaprovider" out of: kafkaprovider, wait-for-controller (init)
I0313 15:08:21.606812   32408 round_trippers.go:466] curl -v -XGET  -H "Accept: application/json, */*" -H "User-Agent: kubectl.exe/v1.26.1 (windows/amd64) kubernetes/8f94681" 'https://k3s.liquidfaas.cloud:6443/api/v1/namespaces/openwhisk/pods/openwhisk-kafkaprovider-6685949cc9-qw5xm/log?container=kafkaprovider'
I0313 15:08:21.670037   32408 round_trippers.go:553] GET https://k3s.liquidfaas.cloud:6443/api/v1/namespaces/openwhisk/pods/openwhisk-kafkaprovider-6685949cc9-qw5xm/log?container=kafkaprovider 200 OK in 63 milliseconds
I0313 15:08:21.670536   32408 round_trippers.go:570] HTTP Statistics: GetConnection 0 ms ServerProcessing 62 ms Duration 63 ms
I0313 15:08:21.671102   32408 round_trippers.go:577] Response Headers:
I0313 15:08:21.671102   32408 round_trippers.go:580]     Audit-Id: d2b72e24-8265-4450-a941-ba1600a4acb3      
I0313 15:08:21.671607   32408 round_trippers.go:580]     Cache-Control: no-cache, private
I0313 15:08:21.671607   32408 round_trippers.go:580]     Content-Type: text/plain
I0313 15:08:21.672125   32408 round_trippers.go:580]     Date: Mon, 13 Mar 2023 14:08:21 GMT
[2023-03-13T14:06:02.312Z] [INFO] [??] [kafkatriggers] check_ssl is False <type 'bool'>
[2023-03-13T14:06:02.312Z] [INFO] [??] [kafkatriggers] enable_generic_kafka is True <type 'bool'>
[2023-03-13T14:06:02.319Z] [INFO] [??] [kafkatriggers] Starting new HTTPS connection (1): couchdb-gateway.liquidfaas.cloud
Traceback (most recent call last):
  File "app.py", line 104, in <module>
    main()
  File "app.py", line 90, in main
    database = Database()
  File "/KafkaFeedProvider/database.py", line 48, in __init__
    self.client.connect()
  File "/usr/local/lib/python2.7/site-packages/cloudant/client.py", line 117, in connect
    self.session_login(self._user, self._auth_token)
  File "/usr/local/lib/python2.7/site-packages/cloudant/client.py", line 173, in session_login
    headers={'Content-Type': 'application/x-www-form-urlencoded'}
  File "/usr/local/lib/python2.7/site-packages/requests/sessions.py", line 518, in post
    return self.request('POST', url, data=data, json=json, **kwargs)
  File "/usr/local/lib/python2.7/site-packages/cloudant/_common_util.py", line 310, in request
    method, url, timeout=self._timeout, **kwargs)
  File "/usr/local/lib/python2.7/site-packages/requests/sessions.py", line 475, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python2.7/site-packages/requests/sessions.py", line 585, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python2.7/site-packages/requests/adapters.py", line 477, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:727)